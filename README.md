# 音卓（おんたく / ON Taku）

Rails 8.1 / Ruby 3.3 を使用して構築した、ライブハウスやクラブ、バンドイベントの現場運営を支援するタイムテーブル管理サービスです。  
進行表・転換時間・出演者・機材・開場／開演といった、イベント運営に必要な情報を一つの “卓” に統合し、現場特有の判断や変更にも柔軟に対応できる運営体制をサポートします。

## 主な機能

- ユーザー登録／ログイン（メール + パスワード、8〜32文字）
- イベント管理（下書き・公開、公演日/会場/料金/時間帯）
- タイムテーブル管理（ドラッグ&ドロップ編集、テンプレート適用、転換枠挿入）
- アーティスト管理（バンド/DJ区分、公開制御、出演履歴表示）
- 割引料金シミュレーター（早割10%、学割500円、取置200円のディシジョンテーブル通り）
- 割引登録/適用による料金シミュレーター

## セットアップ

```bash
mise install            # Ruby / Node のインストール
mise exec -- bundle install
mise exec -- bin/rails db:prepare
mise exec -- bin/rails db:seed   # サンプルデータの投入
```

開発サーバーの起動 (Tailwind + Rails 同時実行):

```bash
mise exec -- bin/dev
```

### サンプルアカウント

| ロール | メール | パスワード |
|--------|--------|------------|
| 主催者 | organizer@example.com | Password1 |
| 評価者 | reviewer@example.com  | Password1 |

## テスト

```bash
mise exec -- bin/rails test
```

- モデル単位で料金計算やタイムテーブル制約などを検証しています。

## プロダクトビジョン

音卓（おんたく / ON Taku）は、バンドイベントやライブハウス、クラブイベントなど音楽の現場に携わるすべての人のための運営支援サービスです。  
紙・スプレッドシート・チャットなどに分散しがちな情報を一元化し、「音を司る中心のテーブル」のように、イベント運営の時間と情報の中心として機能します。  
アーティスト、主催者、PA、照明、そしてオーディエンス。すべての音楽体験をよりスムーズに、よりクリエイティブにするために、ライブの裏側にある熱量と調和を支えます。

## 注意事項

- 割引計算は固定額（学割/取置）を先に適用し、その後に早割10%を掛ける仕様です。
- タイムテーブルの時間刻みは 5 分単位、テンプレートは任意の分数・均等配分に対応します。
- 公開には少なくとも1枠のタイムテーブルが必要です。

## ライセンス

社内評価用のサンプルアプリとして作成されています。社外公開時は要確認。
